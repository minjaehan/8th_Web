- XSS 공격 / CSRF 공격 🍠
    
    <aside>
    🍠
    
    XSS 공격과 CSRF 공격에 대해 직접 정리해보세요!
    
    </aside>
    
    - XSS 공격
        
        ### **1. XSS 공격이란?**
        
        **XSS 공격**은 사용자 브라우저에 전달되는 데이터에 악성 스크립트를 포함시킨 뒤, 사용자 브라우저에 실행되면서 해킹하는 공격이다.
        
        XSS 공격에는 세 가지 유형이 있다. 
        
        1. Reflected XSS
        
        Reflected XSS는 스크립트가 포함된 공격용 악성 URL을 만든 뒤, 사용자가 해당 URL을 클릭했을 때 정보를 획득하는 공격이다. URL이 길면 클라이언트가 의구심을 가질 수 있기 때문에 URL 단축을 이용해 짧은 URL로 만들어 공격하기도 한다.
        
        사용자가 특정 파라미터에 입력한 값을 서버가 응답으로 반사해서 보내줄 때 발생하며, 서버에 스크립트를 저장하는 것이 아니므로 서버의 필터링을 피할 수 있다.
        
        1. Stored XSS
        
        Stored XSS는 취약한 웹 서버에 악성 스크립트를 심어놓고, 사용자가 접근하면 해당 스크립트가 실행되는 공격이다.
        
        보통 서버에서 필터링을 하기 때문에 공격을 우회하기 어렵지만, 한 번 성공하면 관리자 입장에서는 눈치채기 힘들고 **광범위한 피해**를 줄 수 있다는 것이 특징이다.
        
        1. DOM bases XSS
        
        Reflected XSS와 Stored XSS 공격이 서버의 취약점을 이용해서 악성 스크립트가 포함된 응답 페이지를 전달하는 것이다. 반면 DOM XSS는 서버와 관련없이 클라이언트 단에서 파라미터를 처리할 때 발생한다.
        
        DOM XSS 공격은 사용자가 공격자가 조작한 URL을 클릭하는 순간, 악성 스크립트가 실행되면서 사용자 브라우저를 공격하는 방법이다.
        
    - CSRF 공격
        
        CSRF란 Cross Site Request Forgery의 약자로, 사이트 간 요청 위조를 말한다.
        
        이는 웹 보안 취약점의 일정이며, 사용자가 자신의 의지와는 무관하게 공격자가 의도한 행위를 특정 웹사이트에 요청하게 하는 공격이다. 여기서 공격자가 의도한 행위는 데이터 수정/삭제/등록 등이다. 
        
        예를 들어서, 피해자의 전자 메일 주소/암호를 변경하거나 자금이체를 하는 등의 동작을 수행할 수 있다.  
        
        CSRF가 성공하려면 세 가지 조건이 만족되어야 하는데, 
        
        1. 사용자가 보안이 취약한 서버에 로그인 한 상태여야함.
        2. 쿠키 기반의 서버 세션 정보를 획득할 수 있어야함.
        3. 공격자는 서버를 공격하기 위한 요청 방법에 대해 미리 파악하고 있어야 함. 예상치 못한 요청 매개변수가 없어야함.
        
        이러한 조건들이 만족되면 CSRF 공격을 할 수 있다.
        
        동작원리
        
        사용자가 보안이 취약한 서버에 로그인하면, 서버에 저장된 세션정보를 사용할 수 있는 아이디가 사용의 브라우저 쿠키에 저장된다. 공격자는 사용자가 악성 스크립트 페이지를 클릭하도록 유도하고, 사용자가 해당 악성 페이지에 접근하면 웹 브라우저에 의해 쿠키에 저장된 아이디와 함께 서버로 요청된다. 서버는 쿠키에 담긴 아이디를 통해 해당 요청이 인증된 사용자로부터 온 것으로 판단하고 처리한다.
        
        방어 방법 
        
        사용자 입장에서는 이상한 URL을 함부로 클릭하지 않고 의심이 되는 메일을 열어보지 않는 것이 중요함. 
        
        웹 개발자/운영자 입장에서는 대략 3가지의 방법이 있다.
        
        1. Referer Check 
        
        HTTP 요청 헤더 정보에서 리퍼러 정보를 확인할 수 있다. 보통은 호스트와 리퍼러 값이 같으므로 둘을 비교하는데, CSRF 공격의 대부분이 리퍼러 값에 대한 검증만으로도 방어할 수 있다. 
        
        1. CAPTCHA 캡챠 도입.
        
        캡챠를 이용해서 인증 코드가 없거나 틀리면 요청을 거부하도록 할 수 있다.
        
        1. CSRF 토큰 사용
        
        사용자의 세션에 임의의 값을 저장하여 모드 요청마다 해당 값을 포함해서 전송하도록 한다.
        
        서버에서 요청을 받을 때마다 세션에 저장된 값과 요청으로 전송된 값이 일치하여 검증하는 방법이다.





